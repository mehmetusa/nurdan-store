(this.webpackJsonpnurdan=this.webpackJsonpnurdan||[]).push([[0],{64:function(e,t,a){e.exports=a(93)},73:function(e,t,a){},93:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(2),l=a(23),o=a.n(l),i=(a(73),a(26)),u=a(54),s=a(18),m=a.n(s);var d=a(34),E=a(28);var p=Object(i.c)({cart:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{cartItems:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CART_ADD_ITEM":var a=t.payload,n=e.cartItems.find((function(e){return e.product===a.product}));return n?{cartItems:e.cartItems.map((function(e){return e.product===n.product?a:e}))}:{cartItems:[].concat(Object(E.a)(e.cartItems),[a])};case"CART_REMOVE_ITEM":return{cartItems:e.cartItems.filter((function(e){return e.product!==t.payload}))};case"CART_EMPTY_ITEMS":return{cartItems:[],shipping:{},payment:{}};case"CART_SAVE_SHIPPING":return Object(d.a)(Object(d.a)({},e),{},{shipping:t.payload});case"CART_SAVE_PAYMENT":return Object(d.a)(Object(d.a)({},e),{},{payment:t.payload});default:return e}},myOrderList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{orders:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"MY_ORDER_LIST_REQUEST":return{loading:!0};case"MY_ORDER_LIST_SUCCESS":return{loading:!1,orders:t.payload};case"MY_ORDER_LIST_FAIL":return{loading:!1,error:t.payload};default:return e}},orderList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{orders:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ORDER_LIST_REQUEST":return{loading:!0};case"ORDER_LIST_SUCCESS":return{loading:!1,orders:t.payload};case"ORDER_LIST_FAIL":return{loading:!1,error:t.payload};default:return e}},orderUpdate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ORDER_UPDATE_REQUEST":return{loading:!0};case"ORDER_UPDATE_SUCCESS":return{loading:!1,success:!0,data:t.payload};case"ORDER_UPDATE_FAIL":return{loading:!1,error:t.payload};default:return e}},orderPay:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ORDER_PAY_REQUEST":return{loading:!0};case"ORDER_PAY_RESET":return{};case"ORDER_PAY_SUCCESS":return{loading:!1,success:!0,data:t.payload};case"ORDER_PAY_FAIL":return{loading:!1,error:t.payload};default:return e}},orderDetails:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{order:{isPaid:!1,isDelivered:!1,orderItems:[],shipping:{},payment:{}}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ORDER_DETAILS_REQUEST":return{loading:!0};case"ORDER_DETAILS_SUCCESS":return{loading:!1,order:t.payload};case"ORDER_DETAILS_FAIL":return{loading:!1,error:t.payload};default:return e}},orderCreate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{orderItems:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ORDER_CREATE_REQUEST":return{loading:!0};case"ORDER_CREATE_SUCCESS":return{loading:!1,success:!0,data:t.payload};case"ORDER_CREATE_FAIL":return{loading:!1,error:t.payload};default:return e}},orderDelete:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ORDER_DELETE_REQUEST":return{loading:!0};case"ORDER_DELETE_SUCCESS":return{loading:!1,success:!0,orders:t.payload};case"ORDER_DELETE_FAIL":return{loading:!1,error:t.payload};default:return e}},orderDeliver:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ORDER_DELIVER_REQUEST":return{loading:!0};case"ORDER_DELIVER_RESET":return{};case"ORDER_DELIVER_SUCCESS":return{loading:!1,success:!0,data:t.payload};case"ORDER_DELIVER_FAIL":return{loading:!1,error:t.payload};default:return e}},productList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{products:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"PRODUCT_LIST_REQUEST":return{loading:!0};case"PRODUCT_LIST_SUCCESS":return{loading:!1,products:t.payload};case"PRODUCT_LIST_FAIL":return{loading:!1,error:t.payload};default:return e}},productSave:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"PRODUCT_SAVE_REQUEST":return{loading:!0};case"PRODUCT_SAVE_SUCCESS":return{loading:!1,success:!0,products:t.payload};case"PRODUCT_SAVE_FAIL":return{loading:!1,error:t.payload};default:return e}},productReviewSave:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"PRODUCT_REVIEW_SAVE_REQUEST":return{loading:!0};case"PRODUCT_REVIEW_SAVE_SUCCESS":return{loading:!1,success:!0,products:t.payload};case"PRODUCT_REVIEW_SAVE_FAIL":return{loading:!1,error:t.payload};case"PRODUCT_REVIEW_SAVE_RESET":return{};default:return e}},productDelete:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"PRODUCT_DELETE_REQUEST":return{loading:!0};case"PRODUCT_DELETE_SUCCESS":return{loading:!1,success:!0,products:t.payload};case"PRODUCT_DELETE_FAIL":return{loading:!1,error:t.payload};default:return e}},productCategoryList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{categories:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"PRODUCT_CATEGORY_LIST_REQUEST":return{loading:!0};case"PRODUCT_CATEGORY_LIST_SUCCESS":return{loading:!1,categories:t.payload};case"PRODUCT_CATEGORY_LIST_FAIL":return{loading:!1,error:t.payload};default:return e}},productDetails:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{product:{reviews:[]}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"PRODUCT_DETAILS_REQUEST":return{loading:!0};case"PRODUCT_DETAILS_SUCCESS":return{loading:!1,product:t.payload};case"PRODUCT_DETAILS_FAIL":return{loading:!1,error:t.payload};default:return e}},userSignin:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USER_SIGNIN_REQUEST":return{loading:!0};case"USER_SIGNIN_SUCCESS":return{loading:!1,userInfo:t.payload};case"USER_SIGNIN_FAIL":return{loading:!1,error:t.payload};case"USER_LOGOUT":return{};default:return e}},userRegister:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USER_REGISTER_REQUEST":return{loading:!0};case"USER_REGISTER_SUCCESS":return{loading:!1,userInfo:t.payload};case"USER_REGISTER_FAIL":return{loading:!1,error:t.payload};default:return e}},userUpdate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USER_UPDATE_REQUEST":return{loading:!0};case"USER_UPDATE_SUCCESS":return{loading:!1,userInfo:t.payload,success:"Profile updated successfully."};case"USER_UPDATE_FAIL":return{loading:!1,error:t.payload};default:return e}}}),f={cart:{cartItems:m.a.getJSON("cartItems")||[],shipping:{address:"1911, Sherbrooke",city:"Montreal",country:"Canada",postalCode:"H2X1C4"},payment:{paymentMethod:"paypal"}},userSignin:{userInfo:m.a.getJSON("userInfo")}},v=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||i.d,h=Object(i.e)(p,f,v(Object(i.a)(u.a))),g=a(6),y=a(12),S=a(55),b=a(56),_=a(59),O=a(57),R=a(131),C=a(132),I=a(130),T=a(129),D=a(128),N=a(125),A=a(127),U=a(94),j=a(124),P=a(126),w=a(123);function k(){return r.a.createElement(U.a,{variant:"body2",color:"textSecondary",align:"center"},"Copyright \xa9 ",r.a.createElement(w.a,{color:"inherit",href:"https://material-ui.com/"},"Your Website")," ",(new Date).getFullYear(),".")}var L=Object(j.a)((function(e){return{icon:{marginRight:e.spacing(2)},heroContent:{backgroundColor:e.palette.background.paper,padding:e.spacing(8,0,6)},heroButtons:{marginTop:e.spacing(4)},cardGrid:{paddingTop:e.spacing(8),paddingBottom:e.spacing(8)},card:{height:"100%",display:"flex",flexDirection:"column"},cardMedia:{paddingTop:"56.25%"},cardContent:{flexGrow:1},footer:{backgroundColor:e.palette.background.paper,padding:e.spacing(6)}}})),x=[1,2,3,4];function F(){var e=L();return r.a.createElement(r.a.Fragment,null,r.a.createElement(N.a,null),r.a.createElement("main",null,r.a.createElement("div",{className:e.heroContent},r.a.createElement(P.a,{maxWidth:"sm"},r.a.createElement(U.a,{component:"h1",variant:"h2",align:"center",color:"textPrimary",gutterBottom:!0},"Best Sellers"))),r.a.createElement(P.a,{className:e.cardGrid,maxWidth:"md"},r.a.createElement(A.a,{container:!0,spacing:4},x.map((function(t){return r.a.createElement(A.a,{item:!0,key:t,xs:12,sm:6,md:6},r.a.createElement(C.a,{className:e.card},r.a.createElement(D.a,{className:e.cardMedia,image:"uploads/1593970316827.jpg",title:"Image title"}),r.a.createElement(T.a,{className:e.cardContent},r.a.createElement(U.a,{gutterBottom:!0,variant:"h5",component:"h2"},"Heading"),r.a.createElement(U.a,null,"This is a media card. You can use this section to describe the content.")),r.a.createElement(I.a,null,r.a.createElement(R.a,{size:"small",color:"primary"},"View"),r.a.createElement(R.a,{size:"small",color:"primary"},"Edit"))))}))))),r.a.createElement("footer",{className:e.footer},r.a.createElement(U.a,{variant:"h6",align:"center",gutterBottom:!0},"Footer"),r.a.createElement(U.a,{variant:"subtitle1",align:"center",color:"textSecondary",component:"p"},"Something here to give the footer a purpose!"),r.a.createElement(k,null)))}var V=function(e){Object(_.a)(a,e);var t=Object(O.a)(a);function a(){var e;Object(S.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={data:{},country:""},e}return Object(b.a)(a,[{key:"render",value:function(){var e=this.state;e.data,e.country;return r.a.createElement("div",{className:"aaa"},r.a.createElement(F,null))}}]),a}(r.a.Component),Q=a(5);function Y(e){return e.value?r.a.createElement("div",{className:"rating"},r.a.createElement("span",null,r.a.createElement("i",{className:e.value>=1?"fa fa-star":"fa fa-star-o","aria-hidden":"true"})),r.a.createElement("span",null,r.a.createElement("i",{className:e.value>=2?"fa fa-star":e.value>=1.5?"fa fa-star-half-o":"fa fa-star-o","aria-hidden":"true"})),r.a.createElement("span",null,r.a.createElement("i",{className:e.value>=3?"fa fa-star":e.value>=2.5?"fa fa-star-half-o":"fa fa-star-o","aria-hidden":"true"})),r.a.createElement("span",null,r.a.createElement("i",{className:e.value>=4?"fa fa-star":e.value>=3.5?"fa fa-star-half-o":"fa fa-star-o","aria-hidden":"true"})),r.a.createElement("span",null,r.a.createElement("i",{className:e.value>=5?"fa fa-star":e.value>=4.5?"fa fa-star-half-o":"fa fa-star-o","aria-hidden":"true"})),r.a.createElement("span",null,e.text)):r.a.createElement("div",null)}var q=function(e){return r.a.createElement("li",null,r.a.createElement("div",{className:"product"},r.a.createElement("div",{className:"product-image"},r.a.createElement(g.b,{to:"/product/".concat(e._id)},r.a.createElement("img",{src:e.image,alt:"images"}))),r.a.createElement("div",{className:"product-name"},r.a.createElement(g.b,{to:"/product/".concat(e._id)},e.name)),r.a.createElement("div",{className:"product-brand"},e.brand),r.a.createElement("div",{className:"product-price"},"$",e.price),r.a.createElement("div",{className:"product-rating"},r.a.createElement(Y,{value:e.rating,text:"".concat(e.numReviews," reviews")}))))},G=function(e){return r.a.createElement("div",{className:" block-center loading"},"Loading..."," ",e.message)},M=function(e){return r.a.createElement("div",{className:"block-center text-error"},e.message)},B=a(3),z=a.n(B),$=a(11),W=a(8),J=a.n(W),H=function(e){return e.response?e.response.data.message?e.response.data.message:e.response.statusText:"Error"},X=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return function(){var n=Object($.a)(z.a.mark((function n(r){var c;return z.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r({type:"PRODUCT_LIST_REQUEST",payload:{category:e,searchKeyword:t,sortOrder:a}}),n.prev=1,n.next=4,J()("/api/products?category=".concat(e,"&search=").concat(t,"&sort=").concat(a));case 4:c=n.sent,r({type:"PRODUCT_LIST_SUCCESS",payload:c.data}),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(1),r({type:"PRODUCT_LIST_FAIL",payload:H(n.t0)});case 11:case"end":return n.stop()}}),n,null,[[1,8]])})));return function(e){return n.apply(this,arguments)}}()};var K=function(e){var t=e.match.params.id?e.match.params.id:"",a=Object(c.b)(),l=Object(n.useState)(""),o=Object(Q.a)(l,2),i=o[0],u=o[1],s=Object(n.useState)(""),m=Object(Q.a)(s,2),d=m[0],E=m[1],p=Object(c.c)((function(e){return e.productList}));Object(n.useEffect)((function(){return a(X(t,i,d)),function(){}}),[a,t]);var f=p.loading,v=p.products,h=p.error;return r.a.createElement("div",{className:"content"},t&&r.a.createElement("h1",null,t),r.a.createElement("ul",{className:"filter"},r.a.createElement("li",null,r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),a(X(t,i,d))}},r.a.createElement("input",{value:i,onChange:function(e){return u(e.target.value)}}),r.a.createElement("button",{type:"submit"},"Search"))),r.a.createElement("li",null,"Sort by"," ",r.a.createElement("select",{value:d,onChange:function(e){E(e.target.value),a(X(t,i,e.target.value))}},r.a.createElement("option",{value:""},"Newest"),r.a.createElement("option",{value:"lowest"},"Lowest"),r.a.createElement("option",{value:"highest"},"Highest")))),f?r.a.createElement(G,null):h?r.a.createElement(M,{message:h}):0===v.length?r.a.createElement("div",{className:"empty-list"},"There is no products."):r.a.createElement("ul",{className:"products"},v.map((function(e){return r.a.createElement(q,Object.assign({key:e._id},e))}))))};var Z=function(e){var t=Object(n.useState)(1),a=Object(Q.a)(t,2),l=a[0],o=a[1],i=Object(n.useState)(""),u=Object(Q.a)(i,2),s=u[0],m=u[1],d=Object(n.useState)(""),p=Object(Q.a)(d,2),f=p[0],v=p[1],h=Object(c.b)(),y=Object(c.c)((function(e){return e.productReviewSave})),S=(y.loading,y.error,y.success),b=Object(c.c)((function(e){return e.userSignin})).userInfo;Object(n.useEffect)((function(){var t;return S?(m(""),v(""),alert("Review Submitted"),h({type:"PRODUCT_REVIEW_SAVE_RESET"})):h((t=e.match.params.id,function(){var e=Object($.a)(z.a.mark((function e(a){var n;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a({type:"PRODUCT_DETAILS_REQUEST"}),e.next=4,J()("/api/products/".concat(t));case 4:n=e.sent,a({type:"PRODUCT_DETAILS_SUCCESS",payload:n.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),a({type:"PRODUCT_DETAILS_FAIL",payload:H(e.t0)});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}())),function(){}}),[S]);var _=Object(c.c)((function(e){return e.productDetails})),O=_.loading,R=_.error,C=_.product;return O?r.a.createElement(G,null):R?r.a.createElement(M,{message:R}):r.a.createElement("div",null,r.a.createElement("div",{className:"back-to-results"},r.a.createElement(g.b,{to:"/"}," \u2039 Back to results")),r.a.createElement("div",{className:"details"},r.a.createElement("div",{className:"details-image"},r.a.createElement("img",{src:C.image,alt:"product"})),r.a.createElement("div",{className:"details-info"},r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement("h3",null,C.name)),r.a.createElement("li",null,r.a.createElement("a",{href:"#reviews"},r.a.createElement(Y,{value:C.rating,text:"".concat(C.numReviews," reviews")}))),r.a.createElement("li",null,"Price: ",r.a.createElement("span",{className:"price"},"$",C.price)),r.a.createElement("li",null,"Description:",r.a.createElement("div",null,C.description)))),r.a.createElement("div",{className:"details-actions"},r.a.createElement("ul",null,r.a.createElement("li",null,"Price: $",C.price),r.a.createElement("li",null,"State: ",C.countInStock>0?"InStock":"Unavailable"),C.countInStock&&r.a.createElement("li",null,"Qty:",r.a.createElement("select",{value:l,onChange:function(e){return o(e.target.value)}},Object(E.a)(Array(C.countInStock).keys()).map((function(e){return r.a.createElement("option",{key:e+1,value:e+1},e+1)})))),C.countInStock&&r.a.createElement("li",null,r.a.createElement("button",{type:"button",onClick:function(){e.history.push("/cart/".concat(e.match.params.id,"?qty=").concat(l))},className:"button primary"},"Add to Cart"))))),r.a.createElement("div",{className:"content-margined"},r.a.createElement("h2",null,"Reviews"),0===C.reviews.length&&r.a.createElement("div",null,"There is no review."),r.a.createElement("ul",{id:"reviews",className:"review"},C.reviews.map((function(e){return r.a.createElement("li",{key:e._id},r.a.createElement("div",null,r.a.createElement("b",null,e.name)),r.a.createElement("div",null,r.a.createElement(Y,{value:e.rating})),r.a.createElement("div",null,e.createdAt.substring(0,10)),r.a.createElement("div",null,e.comment))})),r.a.createElement("li",null,r.a.createElement("h3",null,"Write a customer reviews"),b?r.a.createElement("form",{onSubmit:function(t){var a,n;t.preventDefault(),h((a=e.match.params.id,n={comment:s,rating:f},function(){var e=Object($.a)(z.a.mark((function e(t,r){var c,l,o,i;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"PRODUCT_REVIEW_SAVE_REQUEST",payload:n}),e.prev=1,c=r(),l=c.userSignin.userInfo.token,e.next=5,J.a.post("/api/products/".concat(a,"/reviews"),n,{headers:{Authorization:"Bearer ".concat(l)}});case 5:o=e.sent,i=o.data,t({type:"PRODUCT_REVIEW_SAVE_SUCCESS",payload:i}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),t({type:"PRODUCT_REVIEW_SAVE_FAIL",payload:H(e.t0)});case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t,a){return e.apply(this,arguments)}}()))}},r.a.createElement("ul",{className:"form-container"},r.a.createElement("li",null,r.a.createElement("label",{htmlFor:"  "},"Rating"),r.a.createElement("select",{required:!0,value:f,name:"rating",id:"rating",onChange:function(e){return v(e.target.value)}},r.a.createElement("option",{value:""},"Select"),r.a.createElement("option",{value:"1"},"1 = Poor"),r.a.createElement("option",{value:"2"},"2 = Fair"),r.a.createElement("option",{value:"3"},"3 = Good"),r.a.createElement("option",{value:"4"},"4 = Very Good"),r.a.createElement("option",{value:"5"},"5 = Excellent"))),r.a.createElement("li",null,r.a.createElement("label",{htmlFor:"comment"},"Comment"),r.a.createElement("textarea",{required:!0,value:s,name:"comment",id:"comment",onChange:function(e){return m(e.target.value)}})),r.a.createElement("li",null,r.a.createElement("button",{type:"submit",className:"button primary"},"Submit")))):r.a.createElement("div",null,"Please ",r.a.createElement(g.b,{to:"/signin"},"Signin")," to write a review.")))))},ee=function(e){var t=Object(n.useState)(!1),a=Object(Q.a)(t,2),c=a[0],l=a[1],i=function(){var e=Object($.a)(z.a.mark((function e(){var t,a,n;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J.a.get("/api/config/paypal");case 2:t=e.sent,a=t.data,(n=document.createElement("script")).type="text/javascript",n.src="https://www.paypal.com/sdk/js?client-id=".concat(a),n.async=!0,n.onload=function(){l(!0)},n.onerror=function(){throw new Error("Paypal SDK could not be loaded.")},document.body.appendChild(n);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){void 0!==window&&void 0===window.paypal?i():void 0!==window&&void 0!==window.paypal&&e.onButtonReady&&e.onButtonReady()}),[]);if(!c&&void 0===window.paypal)return r.a.createElement("div",null,"Loading...");var u=window.paypal.Buttons.driver("react",{React:r.a,ReactDOM:o.a});return r.a.createElement(u,Object.assign({},e,{createOrder:function(t,a){return function(t,a){return a.order.create({purchase_units:[{amount:{currency_code:"USD",value:e.amount}}]})}(0,a)},onApprove:function(t,a){return function(t,a){return a.order.capture().then((function(a){e.onSuccess&&e.onSuccess(t,a)})).catch((function(e){console.log(e)}))}(t,a)},style:{layout:"vertical",color:"blue",shape:"rect",label:"paypal"}}))};var te=function(e){var t=Object(c.b)(),a=Object(c.c)((function(e){return e.userSignin})).userInfo,l=Object(c.c)((function(e){return e.orderDetails})),o=l.loading,i=l.error,u=l.order,s=Object(c.c)((function(e){return e.orderPay})),m=(s.loading,s.error,s.success),d=Object(c.c)((function(e){return e.orderDeliver})),E=(d.loading,d.error,d.success,e.location.search?e.location.search.split("=")[1]:"/profile");return Object(n.useEffect)((function(){var a;return m?(t({type:"ORDER_PAY_RESET"}),e.history.push("/profile")):t((a=e.match.params.id,function(){var e=Object($.a)(z.a.mark((function e(t){var n;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:"ORDER_DETAILS_REQUEST",payload:a}),e.next=4,J()("/api/orders/".concat(a));case 4:n=e.sent,t({type:"ORDER_DETAILS_SUCCESS",payload:n.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),t({type:"ORDER_DETAILS_FAIL",payload:H(e.t0)});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}())),function(){}}),[t,m]),o?r.a.createElement(G,null):i?r.a.createElement(M,{message:i}):r.a.createElement("div",null,r.a.createElement("div",{className:"back-to-results"},r.a.createElement(g.b,{to:E}," \u2039 Back to list"),r.a.createElement("br",null),r.a.createElement("h3",null,"Order"," ",u._id)),r.a.createElement("div",{className:"placeorder"},r.a.createElement("div",{className:"placeorder-info"},r.a.createElement("div",null,r.a.createElement("h3",null,"Shipping Address"),r.a.createElement("div",null,u.shipping.address,","," ",u.shipping.city,","," ",u.shipping.country,","," ",u.shipping.postalCode),r.a.createElement("h3",null,u.isDelivered?"Delivered At ".concat(u.deliveredAt):"Not Delivered")),r.a.createElement("div",null,r.a.createElement("h3",null,"Payment Method"),r.a.createElement("div",null,u.payment.paymentMethod),r.a.createElement("h3",null,u.isPaid?"Paid At ".concat(u.paidAt):"Not Paid")),r.a.createElement("div",null,r.a.createElement("ul",{className:"cart-list-container"},r.a.createElement("li",null,r.a.createElement("h3",null,"Order Items"),r.a.createElement("div",null,"Price")),u.orderItems.map((function(e){return r.a.createElement("li",{key:e._id},r.a.createElement("div",{className:"cart-image"},r.a.createElement("img",{src:e.image,alt:"product"})),r.a.createElement("div",{className:"cart-name"},r.a.createElement("div",null,r.a.createElement(g.b,{to:"/product/".concat(e._id)},e.name)),r.a.createElement("div",{className:"cart-list-actions"},"Qty:"," ",e.qty)),r.a.createElement("div",{className:"order-price"},"$",e.price))}))))),r.a.createElement("div",{className:"placeorder-actions"},r.a.createElement("ul",null,a.isAdmin&&u.isPaid&&!u.isDelivered&&r.a.createElement("li",null,r.a.createElement("button",{onClick:function(){t(function(e){return function(){var t=Object($.a)(z.a.mark((function t(a,n){var r,c,l,o;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:"ORDER_PAY_REQUEST",payload:{}}),t.prev=1,r=n(),c=r.userSignin.userInfo.token,t.next=5,J.a.put("/api/orders/".concat(e._id,"/deliver"),{},{headers:{Authorization:"Bearer ".concat(c)}});case 5:l=t.sent,o=l.data,a({type:"ORDER_PAY_SUCCESS",payload:o}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),a({type:"ORDER_PAY_FAIL",payload:H(t.t0)});case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,a){return t.apply(this,arguments)}}()}(u))},type:"button",className:"button primary"},"Deliver Order")),!u.isPaid&&r.a.createElement("li",null,r.a.createElement(ee,{amount:"1.00",onError:function(){return console.log("error")},onSuccess:function(e){t(function(e,t){return function(){var a=Object($.a)(z.a.mark((function a(n,r){var c,l,o,i;return z.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n({type:"ORDER_PAY_REQUEST",payload:t}),a.prev=1,c=r(),l=c.userSignin.userInfo.token,a.next=5,J.a.put("/api/orders/".concat(e._id,"/pay"),t,{headers:{Authorization:"Bearer ".concat(l)}});case 5:o=a.sent,i=o.data,n({type:"ORDER_PAY_SUCCESS",payload:i}),a.next=13;break;case 10:a.prev=10,a.t0=a.catch(1),n({type:"ORDER_PAY_FAIL",payload:H(a.t0)});case 13:case"end":return a.stop()}}),a,null,[[1,10]])})));return function(e,t){return a.apply(this,arguments)}}()}(u,e))},onCancel:function(){return console.log("cancel")}})),r.a.createElement("li",null,r.a.createElement("h3",null,"Order Summary")),r.a.createElement("li",null,r.a.createElement("div",null,"Items:"),r.a.createElement("div",null,"$",u.itemPrice)),r.a.createElement("li",null,r.a.createElement("div",null,"Shipping:"),r.a.createElement("div",null,u.shippingPrice?"$".concat(u.shippingPrice):"Free")),r.a.createElement("li",null,r.a.createElement("div",null,"Tax:"),r.a.createElement("div",null,"$",u.taxPrice)),r.a.createElement("li",null,r.a.createElement("div",null,"Order Total:"),r.a.createElement("div",null,"$",u.totalPrice))))))},ae=function(e,t){return function(){var a=Object($.a)(z.a.mark((function a(n,r){var c,l,o,i;return z.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,J.a.get("/api/products/".concat(e));case 2:c=a.sent,l=c.data,n({type:"CART_ADD_ITEM",payload:{product:l._id,image:l.image,name:l.name,price:l.price,countInStock:l.countInStock,qty:t}}),o=r(),i=o.cart.cartItems,m.a.set("cartItems",JSON.stringify(i));case 7:case"end":return a.stop()}}),a)})));return function(e,t){return a.apply(this,arguments)}}()};var ne=function(e){var t=Object(c.c)((function(e){return e.cart})).cartItems,a=Object(c.b)();Object(n.useEffect)((function(){if(e.match.params.id){var t=e.location.search?Number(e.location.search.split("=")[1]):1;a(ae(e.match.params.id,t))}return function(){}}),[]);var l=function(e){a(function(e){return function(t,a){t({type:"CART_REMOVE_ITEM",payload:e});var n=a().cart.cartItems;m.a.set("cartItems",JSON.stringify(n))}}(e))};return r.a.createElement("div",{className:"cart"},r.a.createElement("div",{className:"cart-list"},r.a.createElement("ul",{className:"cart-list-container"},r.a.createElement("li",null,r.a.createElement("div",null,r.a.createElement("h2",null,"Shopping Cart")),r.a.createElement("div",null,"Price")),0===t.length&&r.a.createElement("div",null,"Cart is empty!"," ",r.a.createElement(g.b,{to:"/"},"Go shopping")," "),t.map((function(e){return r.a.createElement("li",{key:e.product},r.a.createElement("div",{className:"cart-image"},r.a.createElement("img",{src:e.image,alt:"product"})),r.a.createElement("div",{className:"cart-name"},r.a.createElement("div",null,r.a.createElement(g.b,{href:"/product/".concat(e.product)},e.name)),r.a.createElement("div",{className:"cart-list-actions"},"Qty:",r.a.createElement("select",{value:e.qty,onChange:function(t){return n=e.product,r=t.target.value,void a(ae(n,Number(r)));var n,r}},Object(E.a)(Array(e.countInStock).keys()).map((function(e){return r.a.createElement("option",{key:e+1,value:e+1},e+1)})))," ",r.a.createElement("button",{type:"button",className:"button",onClick:function(){return l(e.product)}},"Delete"))),r.a.createElement("div",{className:"cart-price"},"$",e.price))})))),r.a.createElement("div",{className:"cart-checkout"},r.a.createElement("h3",null,"Subtotal (",t.reduce((function(e,t){return e+t.qty}),0)," ","items): $",t.reduce((function(e,t){return e+t.price*t.qty}),0)),r.a.createElement("button",{type:"button",disabled:0===t.length,onClick:function(){e.history.push("/signin?redirect=/shipping")},className:"button primary"},"Proceed to checkout")))},re=function(e){return r.a.createElement("div",{className:"block-center text-success"},e.message)};var ce=function(e){var t=Object(n.useState)(""),a=Object(Q.a)(t,2),l=a[0],o=a[1],i=Object(n.useState)(""),u=Object(Q.a)(i,2),s=u[0],d=u[1],E=Object(n.useState)(""),p=Object(Q.a)(E,2),f=p[0],v=p[1],h=Object(c.b)(),y=Object(c.c)((function(e){return e.userSignin})),S=Object(c.c)((function(e){return e.userUpdate})),b=S.loading,_=S.error,O=S.success,R=y.userInfo,C=Object(c.c)((function(e){return e.myOrderList})),I=C.loading,T=C.orders,D=C.error;return Object(n.useEffect)((function(){return R&&(o(R.name),d(R.email)),h(function(){var e=Object($.a)(z.a.mark((function e(t,a){var n,r,c;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"MY_ORDER_LIST_REQUEST"}),e.prev=1,n=a(),r=n.userSignin.userInfo.token,e.next=5,J()("/api/orders/mine",{headers:{Authorization:"Bearer ".concat(r)}});case 5:c=e.sent,t({type:"MY_ORDER_LIST_SUCCESS",payload:c.data}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),t({type:"MY_ORDER_LIST_FAIL",payload:H(e.t0)});case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t,a){return e.apply(this,arguments)}}()),function(){}}),[R]),r.a.createElement("div",{className:"profile"},r.a.createElement("div",{className:"profile-info content-margined"},r.a.createElement("div",{className:"form"},r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),h(function(e,t,a,n){return function(){var r=Object($.a)(z.a.mark((function r(c,l){var o,i,u;return z.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,c({type:"USER_UPDATE_REQUEST"}),o=l(),i=o.userSignin.userInfo.token,r.next=5,J.a.put("/api/users/".concat(e),{name:t,email:a,password:n},{headers:{Authorization:"Bearer ".concat(i)}});case 5:u=r.sent,c({type:"USER_UPDATE_SUCCESS",payload:u.data}),c({type:"USER_SIGNIN_SUCCESS",payload:u.data}),m.a.set("userInfo",JSON.stringify(u.data)),r.next=14;break;case 11:r.prev=11,r.t0=r.catch(0),c({type:"USER_UPDATE_FAIL",payload:H(r.t0)});case 14:case"end":return r.stop()}}),r,null,[[0,11]])})));return function(e,t){return r.apply(this,arguments)}}()}(R._id,l,s,f))}},r.a.createElement("ul",{className:"form-container"},r.a.createElement("li",null,r.a.createElement("h2",null,"Profile")),_&&r.a.createElement("li",null,r.a.createElement(M,{message:_})),O&&r.a.createElement("li",null,r.a.createElement(re,{message:O})),b&&r.a.createElement("li",null,r.a.createElement(G,null)),r.a.createElement("li",null,r.a.createElement("label",{htmlFor:"name"},"Your name "),r.a.createElement("input",{type:"text",name:"name",id:"name",required:!0,value:l,onChange:function(e){return o(e.target.value)}})),r.a.createElement("li",null,r.a.createElement("label",{htmlFor:"email"},"Email "),r.a.createElement("input",{type:"email",name:"email",id:"email",required:!0,value:s,onChange:function(e){return d(e.target.value)}})),r.a.createElement("li",null,r.a.createElement("label",{htmlFor:"password"},"Password "),r.a.createElement("input",{type:"password",name:"password",id:"password",value:f,onChange:function(e){return v(e.target.value)}})),r.a.createElement("li",null,r.a.createElement("button",{type:"submit",className:"button primary"},"Update Profile")),r.a.createElement("li",null,r.a.createElement("button",{onClick:function(){h((function(e){m.a.remove("userInfo"),e({type:"USER_LOGOUT"})})),e.history.push("/signin")},type:"button",className:"button secondary text-center"},"Logout")))))),r.a.createElement("div",{className:"profile-orders content-margined"},I?r.a.createElement(G,null):_?r.a.createElement(M,{message:D}):r.a.createElement("div",null,r.a.createElement("h2",null,"Your Orders"),0===T.length?r.a.createElement("div",{className:"empty-list"},"There is no orders."):r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"ID"),r.a.createElement("th",null,"DATE"),r.a.createElement("th",null,"TOTAL"),r.a.createElement("th",null,"PAID"),r.a.createElement("th",null,"DELIVERED"),r.a.createElement("th",null,"ACTION"))),r.a.createElement("tbody",null,T.map((function(e){return r.a.createElement("tr",{key:e._id},r.a.createElement("td",null,e._id),r.a.createElement("td",null,e.createdAt),r.a.createElement("td",null,e.totalPrice),r.a.createElement("td",null,e.isPaid.toString()),r.a.createElement("td",null,e.isDelivered.toString()),r.a.createElement("td",null,r.a.createElement(g.b,{to:"/order/".concat(e._id,"?ref=/profile")},"Details")))})))))))};var le=function(e){var t=Object(n.useState)(""),a=Object(Q.a)(t,2),l=a[0],o=a[1],i=Object(n.useState)(""),u=Object(Q.a)(i,2),s=u[0],d=u[1],E=Object(c.b)(),p=Object(c.c)((function(e){return e.userSignin})),f=p.userInfo,v=p.loading,h=p.error,y=e.location.search?e.location.search.split("=")[1]:"/";return Object(n.useEffect)((function(){return f&&e.history.push(y),function(){}}),[f]),r.a.createElement("div",{className:"form"},r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),E(function(e,t){return function(){var a=Object($.a)(z.a.mark((function a(n){var r;return z.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,n({type:"USER_SIGNIN_REQUEST"}),a.next=4,J.a.post("/api/users/signin",{email:e,password:t});case 4:r=a.sent,n({type:"USER_SIGNIN_SUCCESS",payload:r.data}),m.a.set("userInfo",JSON.stringify(r.data)),a.next=12;break;case 9:a.prev=9,a.t0=a.catch(0),n({type:"USER_SIGNIN_FAIL",payload:H(a.t0)});case 12:case"end":return a.stop()}}),a,null,[[0,9]])})));return function(e){return a.apply(this,arguments)}}()}(l,s))}},r.a.createElement("ul",{className:"form-container"},r.a.createElement("li",null,r.a.createElement("h2",null,"Sign-In")),h&&r.a.createElement("li",null,r.a.createElement(M,{message:h})),v&&r.a.createElement("li",null,r.a.createElement(G,null)),r.a.createElement("li",null,r.a.createElement("label",{htmlFor:"email"},"Email "),r.a.createElement("input",{type:"email",name:"email",id:"email",required:!0,value:l,onChange:function(e){return o(e.target.value)}})),r.a.createElement("li",null,r.a.createElement("label",{htmlFor:"password"},"Password "),r.a.createElement("input",{type:"password",name:"password",id:"password",required:!0,value:s,onChange:function(e){return d(e.target.value)}})),r.a.createElement("li",null,r.a.createElement("button",{type:"submit",className:"button primary"},"Sign in")),r.a.createElement("li",null,"New to Amazona?"),r.a.createElement("li",null,r.a.createElement(g.b,{to:"/"===y?"/register":"/register?redirect=".concat(y),className:"button secondary text-center"},"Create Account")))))};var oe=function(e){var t=Object(n.useState)(""),a=Object(Q.a)(t,2),l=a[0],o=a[1],i=Object(n.useState)(""),u=Object(Q.a)(i,2),s=u[0],d=u[1],E=Object(n.useState)(""),p=Object(Q.a)(E,2),f=p[0],v=p[1],h=Object(n.useState)(""),y=Object(Q.a)(h,2),S=y[0],b=y[1],_=Object(c.b)(),O=Object(c.c)((function(e){return e.userRegister})),R=O.userInfo,C=O.loading,I=O.error,T=e.location.search?e.location.search.split("=")[1]:"/";return Object(n.useEffect)((function(){return R&&e.history.push(T),function(){}}),[R]),r.a.createElement("div",{className:"form"},r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),_(function(e,t,a,n){return function(){var r=Object($.a)(z.a.mark((function r(c){var l;return z.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,c({type:"USER_REGISTER_REQUEST"}),a!==n&&c({type:"USER_REGISTER_FAIL",payload:"Password and Re-enter Password are not equal!"}),r.next=5,J.a.post("/api/users/register",{name:e,email:t,password:a});case 5:l=r.sent,c({type:"USER_REGISTER_SUCCESS",payload:l.data}),c({type:"USER_SIGNIN_SUCCESS",payload:l.data}),m.a.set("userInfo",JSON.stringify(l.data)),r.next=14;break;case 11:r.prev=11,r.t0=r.catch(0),c({type:"USER_REGISTER_FAIL",payload:H(r.t0)});case 14:case"end":return r.stop()}}),r,null,[[0,11]])})));return function(e){return r.apply(this,arguments)}}()}(s,l,f,S))}},r.a.createElement("ul",{className:"form-container"},r.a.createElement("li",null,r.a.createElement("h2",null,"Create account")),I&&r.a.createElement("li",null,r.a.createElement(M,{message:I})),C&&r.a.createElement("li",null,r.a.createElement(G,null)),r.a.createElement("li",null,r.a.createElement("label",{htmlFor:"name"},"Your name "),r.a.createElement("input",{type:"text",name:"name",id:"name",required:!0,value:s,onChange:function(e){return d(e.target.value)}})),r.a.createElement("li",null,r.a.createElement("label",{htmlFor:"email"},"Email "),r.a.createElement("input",{type:"email",name:"email",id:"email",required:!0,value:l,onChange:function(e){return o(e.target.value)}})),r.a.createElement("li",null,r.a.createElement("label",{htmlFor:"password"},"Password "),r.a.createElement("input",{type:"password",name:"password",id:"password",required:!0,value:f,onChange:function(e){return v(e.target.value)}})),r.a.createElement("li",null,r.a.createElement("label",{htmlFor:"repassword"},"Re-enter Password "),r.a.createElement("input",{type:"password",name:"repassword",id:"repassword",required:!0,value:S,onChange:function(e){return b(e.target.value)}})),r.a.createElement("li",null,r.a.createElement("button",{type:"submit",className:"button primary"},"Create your Amazona account")),r.a.createElement("li",null,r.a.createElement("div",null,"Already have an account? \xa0",r.a.createElement(g.b,{to:"/"===T?"/signin":"/signin?redirect=".concat(T)},"Sign-In"))))))},ie=function(e){return r.a.createElement("div",{className:"checkout-steps"},r.a.createElement("div",{className:e.step1?"active":""},"Sign-In"),r.a.createElement("div",{className:e.step2?"active":""},"Shipping"),r.a.createElement("div",{className:e.step3?"active":""},"Payment"),r.a.createElement("div",{className:e.step4?"active":""},"Place Order"))};var ue=function(e){var t=Object(n.useState)(""),a=Object(Q.a)(t,2),l=a[0],o=a[1],i=Object(n.useState)(""),u=Object(Q.a)(i,2),s=u[0],m=u[1],d=Object(n.useState)(""),E=Object(Q.a)(d,2),p=E[0],f=E[1],v=Object(n.useState)(""),h=Object(Q.a)(v,2),g=h[0],y=h[1],S=Object(c.b)();return r.a.createElement("div",null,r.a.createElement(ie,{step1:!0,step2:!0}),r.a.createElement("div",{className:"form"},r.a.createElement("form",{onSubmit:function(t){var a;t.preventDefault(),S((a={address:l,city:s,postalCode:p,country:g},function(e){e({type:"CART_SAVE_SHIPPING",payload:a})})),e.history.push("/payment")}},r.a.createElement("ul",{className:"form-container"},r.a.createElement("li",null,r.a.createElement("h2",null,"Shipping")),r.a.createElement("li",null,r.a.createElement("label",{htmlFor:"address"},"Address "),r.a.createElement("input",{type:"text",name:"address",id:"address",required:!0,value:l,onChange:function(e){return o(e.target.value)}})),r.a.createElement("li",null,r.a.createElement("label",{htmlFor:"city"},"City "),r.a.createElement("input",{type:"text",name:"city",id:"city",required:!0,value:l,onChange:function(e){return m(e.target.value)}})),r.a.createElement("li",null,r.a.createElement("label",{htmlFor:"postalCode"},"Postal Code "),r.a.createElement("input",{type:"text",name:"postalCode",id:"postalCode",required:!0,value:p,onChange:function(e){return f(e.target.value)}})),r.a.createElement("li",null,r.a.createElement("label",{htmlFor:"country"},"Country "),r.a.createElement("input",{type:"text",name:"country",id:"country",required:!0,value:g,onChange:function(e){return y(e.target.value)}})),r.a.createElement("li",null,r.a.createElement("button",{type:"submit",className:"button primary"},"Continue"))))))};var se=function(e){var t=Object(n.useState)("paypal"),a=Object(Q.a)(t,2),l=a[0],o=a[1],i=Object(c.b)();return r.a.createElement("div",null,r.a.createElement(ie,{step1:!0,step2:!0,step3:!0}),r.a.createElement("div",{className:"form"},r.a.createElement("form",{onSubmit:function(t){var a;t.preventDefault(),i((a={paymentMethod:l},function(e){e({type:"CART_SAVE_PAYMENT",payload:a})})),e.history.push("/placeorder")}},r.a.createElement("ul",{className:"form-container"},r.a.createElement("li",null,r.a.createElement("h2",null,"Payment")),r.a.createElement("li",null,r.a.createElement("div",null,r.a.createElement("input",{type:"radio",checked:"paypal"===l,onChange:function(){return o("paypal")},name:"paymentMethod",value:"paypal",id:"paypal"})," ",r.a.createElement("label",{htmlFor:"paypal"},"Paypal"))),r.a.createElement("li",null,r.a.createElement("button",{type:"submit",className:"button primary"},"Continue"))))))};var me=function(e){var t=Object(c.b)(),a=Object(c.c)((function(e){return e.cart})),l=Object(c.c)((function(e){return e.orderCreate})),o=a.cartItems,i=a.shipping,u=a.payment,s=(l.loading,l.success),d=l.data;return l.error,i||e.history.push("/shipping"),u||e.history.push("/payment"),a.itemPrice=o.reduce((function(e,t){return e+t.price*t.qty}),0),a.shippingPrice=a.itemPrice>100?0:10,a.taxPrice=.15*a.itemPrice,a.totalPrice=a.itemPrice+a.shippingPrice+a.taxPrice,Object(n.useEffect)((function(){return s&&(e.history.push("/order/".concat(d._id)),t({type:"CART_EMPTY_ITEMS"}),m.a.remove("cartItems")),function(){}}),[s]),r.a.createElement("div",null,r.a.createElement(ie,{step1:!0,step2:!0,step3:!0,step4:!0}),r.a.createElement("div",{className:"placeorder"},r.a.createElement("div",{className:"placeorder-info"},r.a.createElement("div",null,r.a.createElement("h3",null,"Shipping Address"),r.a.createElement("div",null,i.address,","," ",i.city,","," ",i.country,","," ",i.postalCode)),r.a.createElement("div",null,r.a.createElement("h3",null,"Payment Method"),r.a.createElement("div",null,u.paymentMethod)),r.a.createElement("div",null,r.a.createElement("ul",{className:"cart-list-container"},r.a.createElement("li",null,r.a.createElement("h3",null,"Order Items"),r.a.createElement("div",null,"Price")),o.map((function(e){return r.a.createElement("li",{key:e.product},r.a.createElement("div",{className:"cart-image"},r.a.createElement("img",{src:e.image,alt:"product"})),r.a.createElement("div",{className:"cart-name"},r.a.createElement("div",null,r.a.createElement(g.b,{to:"/product/".concat(e.product)},e.name)),r.a.createElement("div",{className:"cart-list-actions"},"Qty:"," ",e.qty)),r.a.createElement("div",{className:"cart-price"},"$",e.price))}))))),r.a.createElement("div",{className:"placeorder-actions"},r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement("button",{onClick:function(){var e;t((e=a,function(){var t=Object($.a)(z.a.mark((function t(a,n){var r,c,l,o;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:"ORDER_CREATE_REQUEST"}),t.prev=1,r=n(),c=r.userSignin.userInfo.token,t.next=5,J.a.post("/api/orders",e,{headers:{Authorization:"Bearer ".concat(c)}});case 5:l=t.sent,o=l.data.data,a({type:"ORDER_CREATE_SUCCESS",payload:o}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),a({type:"ORDER_CREATE_FAIL",payload:H(t.t0)});case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,a){return t.apply(this,arguments)}}()))},type:"button",className:"button primary"},"Place Order")),r.a.createElement("li",null,r.a.createElement("h3",null,"Order Summary")),r.a.createElement("li",null,r.a.createElement("div",null,"Items:"),r.a.createElement("div",null,"$",a.itemPrice)),r.a.createElement("li",null,r.a.createElement("div",null,"Shipping:"),r.a.createElement("div",null,a.shippingPrice?"$".concat(a.shippingPrice):"Free")),r.a.createElement("li",null,r.a.createElement("div",null,"Tax:"),r.a.createElement("div",null,"$",a.taxPrice)),r.a.createElement("li",null,r.a.createElement("div",null,"Order Total:"),r.a.createElement("div",null,"$",a.totalPrice))))))};var de=function(){var e=Object(c.b)(),t=Object(n.useState)(!1),a=Object(Q.a)(t,2),l=a[0],o=a[1],i=Object(n.useState)(""),u=Object(Q.a)(i,2),s=u[0],m=u[1],d=Object(n.useState)(""),E=Object(Q.a)(d,2),p=E[0],f=E[1],v=Object(n.useState)(""),h=Object(Q.a)(v,2),g=h[0],y=h[1],S=Object(n.useState)(""),b=Object(Q.a)(S,2),_=b[0],O=b[1],R=Object(n.useState)(""),C=Object(Q.a)(R,2),I=C[0],T=C[1],D=Object(n.useState)(0),N=Object(Q.a)(D,2),A=N[0],U=N[1],j=Object(n.useState)(""),P=Object(Q.a)(j,2),w=P[0],k=P[1],L=Object(n.useState)(!1),x=Object(Q.a)(L,2),F=x[0],V=x[1],Y=Object(n.useState)(0),q=Object(Q.a)(Y,2),B=q[0],W=q[1],K=function(e){m(e._id),f(e.name),y(e.description),O(e.brand),T(e.image),U(e.price),k(e.category),W(e.countInStock),o(!0)},Z=function(t){e(function(e){return function(){var t=Object($.a)(z.a.mark((function t(a,n){var r,c,l,o;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:"PRODUCT_DELETE_REQUEST",payload:e}),t.prev=1,r=n(),c=r.userSignin.userInfo.token,t.next=5,J.a.delete("/api/products/".concat(e._id),{headers:{Authorization:"Bearer ".concat(c)}});case 5:l=t.sent,o=l.data,a({type:"PRODUCT_DELETE_SUCCESS",payload:o}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),a({type:"PRODUCT_DELETE_FAIL",payload:H(t.t0)});case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,a){return t.apply(this,arguments)}}()}(t))},ee=Object(c.c)((function(e){return e.productList})),te=Object(c.c)((function(e){return e.productSave})),ae=Object(c.c)((function(e){return e.productDelete})),ne=ee.loading,re=ee.products,ce=ee.error,le=(te.loading,te.success),oe=te.error,ie=(ae.loading,ae.success);return ae.error,Object(n.useEffect)((function(){return le&&o(!1),e(X()),function(){}}),[le,ie]),ne?r.a.createElement(G,null):ce?r.a.createElement(M,{message:ce}):r.a.createElement("div",{className:"content content-margined"},r.a.createElement("div",{className:"products-header"},r.a.createElement("h3",null,"Products"),r.a.createElement("button",{type:"button",className:"button primary",onClick:function(){return K({})}},"Create Product")),l&&r.a.createElement("div",{className:"modal"},r.a.createElement("h3",null,"Create Product"),oe&&r.a.createElement(M,{message:ce}),ne&&r.a.createElement(G,null),r.a.createElement("form",{onSubmit:function(t){var a;t.preventDefault(),e((a={_id:s,name:p,brand:_,image:I,price:A,category:w,countInStock:B,description:g},function(){var e=Object($.a)(z.a.mark((function e(t,n){var r,c,l,o,i,u;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t({type:"PRODUCT_SAVE_REQUEST",payload:a}),e.prev=1,r=n(),c=r.userSignin.userInfo.token,!a._id){e.next=11;break}return e.next=6,J.a.put("/api/products/".concat(a._id),a,{headers:{Authorization:"Bearer ".concat(c)}});case 6:l=e.sent,o=l.data,t({type:"PRODUCT_SAVE_SUCCESS",payload:o}),e.next=16;break;case 11:return e.next=13,J.a.post("/api/products",a,{headers:{Authorization:"Bearer ".concat(c)}});case 13:i=e.sent,u=i.data,t({type:"PRODUCT_SAVE_SUCCESS",payload:u});case 16:e.next=21;break;case 18:e.prev=18,e.t0=e.catch(1),t({type:"PRODUCT_SAVE_FAIL",payload:H(e.t0)});case 21:case"end":return e.stop()}}),e,null,[[1,18]])})));return function(t,a){return e.apply(this,arguments)}}()))}},r.a.createElement("ul",{className:"form-container"},r.a.createElement("li",null,r.a.createElement("label",{htmlFor:"name"},"Name"),r.a.createElement("input",{required:!0,name:"name",id:"name",value:p,onChange:function(e){f(e.target.value)}})),r.a.createElement("li",null,r.a.createElement("label",{htmlFor:"brand"},"Brand"),r.a.createElement("input",{required:!0,name:"brand",id:"brand",value:_,onChange:function(e){O(e.target.value)}})),r.a.createElement("li",null,r.a.createElement("label",{htmlFor:"image"},"Image (680 X 830)"),r.a.createElement("input",{required:!0,name:"image",id:"image",value:I,onChange:function(e){T(e.target.value)}}),r.a.createElement("input",{type:"file",name:"imageFile",onChange:function(e){var t=e.target.files[0],a=new FormData;a.append("image",t),V(!0),J.a.post("/api/uploads",a,{headers:{headers:{"Content-Type":"multipart/form-data"}}}).then((function(e){T(e.data),V(!1)})).catch((function(e){console.log("Upload Error",e),V(!1)}))}}),F&&r.a.createElement("div",null,"Uploading...")),r.a.createElement("li",null,r.a.createElement("label",{htmlFor:"name"},"Price"),r.a.createElement("input",{required:!0,type:"number",name:"price",id:"price",value:A,onChange:function(e){U(e.target.value)}})),r.a.createElement("li",null,r.a.createElement("label",{htmlFor:"category"},"Category"),r.a.createElement("input",{required:!0,name:"category",id:"category",value:w,onChange:function(e){k(e.target.value)}})),r.a.createElement("li",null,r.a.createElement("label",{htmlFor:"countInStock"},"Count In Stock"),r.a.createElement("input",{required:!0,type:"number",name:"countInStock",id:"countInStock",value:B,onChange:function(e){W(e.target.value)}})),r.a.createElement("li",null,r.a.createElement("label",{htmlFor:"description"},"Description"),r.a.createElement("textarea",{required:!0,name:"description",id:"description",value:g,onChange:function(e){y(e.target.value)}})),r.a.createElement("li",null,r.a.createElement("button",{type:"submit",className:"button primary"},s?"Update":"Create"," Product")),r.a.createElement("li",null,r.a.createElement("button",{type:"button",onClick:function(){o(!1)},className:"button"},"Back"))))),0===re.length?r.a.createElement("div",{className:"empty-list"},"There is no products."):r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"ID"),r.a.createElement("th",null,"NAME"),r.a.createElement("th",null,"PRICE"),r.a.createElement("th",null,"CATEGORY"),r.a.createElement("th",null,"ACTIONS"))),r.a.createElement("tbody",null,re.map((function(e){return r.a.createElement("tr",{key:e._id},r.a.createElement("td",null,e._id),r.a.createElement("td",null,e.name),r.a.createElement("td",null,e.price),r.a.createElement("td",null,e.category),r.a.createElement("td",null,r.a.createElement("button",{type:"button",onClick:function(){return K(e)},className:"button"},"Edit")," ",r.a.createElement("button",{type:"button",onClick:function(){return Z(e)},className:"button"},"Delete")))})))))};var Ee=function(){var e=Object(c.b)(),t=function(t){e(function(e){return function(){var t=Object($.a)(z.a.mark((function t(a,n){var r,c,l,o;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:"ORDER_DELETE_REQUEST",payload:e}),t.prev=1,r=n(),c=r.userSignin.userInfo.token,t.next=5,J.a.delete("/api/orders/".concat(e._id),{headers:{Authorization:"Bearer ".concat(c)}});case 5:l=t.sent,o=l.data,a({type:"ORDER_DELETE_SUCCESS",payload:o}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),a({type:"ORDER_DELETE_FAIL",payload:H(t.t0)});case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,a){return t.apply(this,arguments)}}()}(t))},a=Object(c.c)((function(e){return e.orderList})),l=(Object(c.c)((function(e){return e.orderUpdate})),Object(c.c)((function(e){return e.orderDelete}))),o=a.loading,i=a.orders,u=a.error,s=(l.loading,l.success);return l.error,Object(n.useEffect)((function(){var t;return e(function(){var e=Object($.a)(z.a.mark((function e(a,n){var r,c,l;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a({type:"ORDER_LIST_REQUEST",payload:t}),e.prev=1,r=n(),c=r.userSignin.userInfo.token,e.next=5,J()("/api/orders",{headers:{Authorization:"Bearer ".concat(c)}});case 5:l=e.sent,a({type:"ORDER_LIST_SUCCESS",payload:l.data}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),a({type:"ORDER_LIST_FAIL",payload:H(e.t0)});case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t,a){return e.apply(this,arguments)}}()),function(){}}),[s]),o?r.a.createElement(G,null):u?r.a.createElement(M,{message:u}):r.a.createElement("div",{className:"content content-margined"},r.a.createElement("h3",null,"Orders"),0===i.length?r.a.createElement("div",{className:"empty-list"},"There is no orders."):r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"ID"),r.a.createElement("th",null,"USER"),r.a.createElement("th",null,"DATE"),r.a.createElement("th",null,"TOTAL"),r.a.createElement("th",null,"PAID"),r.a.createElement("th",null,"DELIVERED"),r.a.createElement("th",null,"ACTION"))),r.a.createElement("tbody",null,i.map((function(e){return r.a.createElement("tr",{key:e._id},r.a.createElement("td",null,e._id),r.a.createElement("td",null,e.user.name),r.a.createElement("td",null,e.createdAt),r.a.createElement("td",null,e.totalPrice),r.a.createElement("td",null,e.isPaid.toString()),r.a.createElement("td",null,e.isDelivered.toString()),r.a.createElement("td",null,r.a.createElement(g.b,{className:"button",to:"/order/".concat(e._id,"?ref=/orders")},"Details")," ",r.a.createElement("button",{type:"button",onClick:function(){return t(e)},className:"button"},"Delete")))})))))},pe=a(58),fe=function(e){var t=e.component,a=e.userInfo,n=Object(pe.a)(e,["component","userInfo"]);return r.a.createElement(y.b,Object.assign({},n,{render:function(e){return a?r.a.createElement(t,e):r.a.createElement(y.a,{to:"/signin"})}}))};var ve=function(){var e=Object(c.c)((function(e){return e.productCategoryList})),t=Object(c.c)((function(e){return e.cart})).cartItems,a=Object(c.c)((function(e){return e.userSignin})).userInfo,l=e.categories,o=e.loading,i=e.error,u=Object(c.b)();Object(n.useEffect)((function(){return u(function(){var e=Object($.a)(z.a.mark((function e(t){var a;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"PRODUCT_CATEGORY_LIST_REQUEST",loading:!0}),e.prev=1,e.next=4,J.a.get("/api/products/categories");case 4:a=e.sent,t({type:"PRODUCT_CATEGORY_LIST_SUCCESS",payload:a.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),t({type:"PRODUCT_CATEGORY_LIST_FAIL",payload:H(e.t0)});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()),function(){}}),[]);var s=function(){return document.querySelector(".sidebar").classList.remove("open")};return r.a.createElement(g.a,null,r.a.createElement("div",{className:"grid-container"},r.a.createElement("header",{className:"header"},r.a.createElement("div",{className:"brand"},r.a.createElement("button",{type:"button",onClick:function(){return document.querySelector(".sidebar").classList.add("open")}},"\u2630"),r.a.createElement(g.b,{to:"/"},r.a.createElement("img",{src:"nurdan-bakery2.png",alt:"logo",height:"50"}))),r.a.createElement(g.b,{className:"header-link",to:"/allproducts"},"Products"),r.a.createElement("div",null,0!==t.length&&r.a.createElement("div",{className:"badge"},t.length),r.a.createElement(g.b,{className:"header-link",to:"/cart"},"Cart"),a?r.a.createElement(r.a.Fragment,null,r.a.createElement(g.b,{className:"header-link",to:"/profile"},a.name),a.isAdmin&&r.a.createElement("div",{className:"dropdown"},r.a.createElement(g.b,{className:"header-link",to:"#admin"},"Admin"),r.a.createElement("ul",{className:"dropdown-content"},r.a.createElement("li",null,r.a.createElement(g.b,{className:"header-link",to:"/products"},"Products")),r.a.createElement("li",null,r.a.createElement(g.b,{className:"header-link",to:"/orders"},"Orders"))))):r.a.createElement(g.b,{className:"header-link",to:"/signin"}," ","Sign in"))),r.a.createElement("aside",{className:"sidebar"},r.a.createElement("ul",{className:"categories"},r.a.createElement("li",null,r.a.createElement("h3",null,"Shopping Categories"),r.a.createElement("button",{type:"button",className:"sidebar-menu-close",onClick:s},"x")),o?r.a.createElement("li",null,r.a.createElement(G,null)):i?r.a.createElement("li",null,r.a.createElement(M,{message:i})):0===l.length?r.a.createElement("li",{className:"empty-list"},"There is no categories."):l.map((function(e){return r.a.createElement("li",{key:e},r.a.createElement(g.b,{onClick:s,to:"/category/".concat(e)},e))})))),r.a.createElement("main",{onClick:s,className:"main"},r.a.createElement(fe,{userInfo:a,path:"/shipping",component:ue}),r.a.createElement(fe,{userInfo:a,path:"/payment",component:se}),r.a.createElement(fe,{userInfo:a,path:"/placeorder",component:me}),r.a.createElement(fe,{userInfo:a,path:"/profile",component:ce}),r.a.createElement(fe,{userInfo:a,path:"/order/:id",component:te}),r.a.createElement(fe,{userInfo:a,path:"/products",component:de}),r.a.createElement(fe,{userInfo:a,path:"/orders",component:Ee}),r.a.createElement(y.b,{path:"/signin",component:le}),r.a.createElement(y.b,{path:"/register",component:oe}),r.a.createElement(y.b,{path:"/cart/:id?",component:ne}),r.a.createElement(y.b,{path:"/product/:id",component:Z}),r.a.createElement(y.b,{path:"/category/:id",component:K}),r.a.createElement(y.b,{path:"/",exact:!0,component:V}),r.a.createElement(y.b,{path:"/allproducts",exact:!0,component:K})),r.a.createElement("footer",{className:"footer"},"All rights reserved.")))};o.a.render(r.a.createElement(c.a,{store:h},r.a.createElement(ve,null)),document.getElementById("root"))}},[[64,1,2]]]);
//# sourceMappingURL=main.57efa976.chunk.js.map